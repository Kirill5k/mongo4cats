"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6837],{6260:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>g});var t=i(5893),o=i(1151),s=i(4209),c=i(3992);const r={},a=void 0,l={type:"mdx",permalink:"/mongo4cats/main",source:"@site/src/pages/main.mdx",description:"Maven Central",frontMatter:{},unlisted:!1},d={},g=[{value:"Dependencies",id:"dependencies",level:3},{value:"Quick start with Cats Effect",id:"quick-start-with-cats-effect",level:3},{value:"Quick start with ZIO",id:"quick-start-with-zio",level:3}];function h(e){const n={a:"a",code:"code",h3:"h3",img:"img",p:"p",...(0,o.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"http://search.maven.org/#search%7Cga%7C1%mongo4cats-core",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/maven-central/v/io.github.kirill5k/mongo4cats-core_2.13.svg",alt:"Maven Central"})})}),"\n",(0,t.jsx)("a",{href:"https://typelevel.org/cats/",children:(0,t.jsx)("img",{src:"https://typelevel.org/cats/img/cats-badge.svg",height:"40px",align:"right",alt:"Cats friendly"})}),"\n",(0,t.jsxs)(n.p,{children:["MongoDB Java client wrapper compatible with ",(0,t.jsx)(n.a,{href:"https://typelevel.org/cats-effect/",children:"Cats-Effect"}),"/",(0,t.jsx)(n.a,{href:"http://fs2.io/",children:"FS2"})," and ",(0,t.jsx)(n.a,{href:"http://zio.dev/",children:"ZIO"}),".\nAvailable for Scala 2.12, 2.13 and 3.3."]}),"\n",(0,t.jsxs)(n.p,{children:["Documentation is available in the ",(0,t.jsx)(n.a,{href:"/mongo4cats/docs/",children:"docs"})," section."]}),"\n",(0,t.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["Add this to your ",(0,t.jsx)(n.code,{children:"build.sbt"})," (depends on ",(0,t.jsx)(n.code,{children:"cats-effect"})," and ",(0,t.jsx)(n.code,{children:"FS2"}),"):"]}),"\n",(0,t.jsx)(s.Z,{language:"scala",style:c.Z,children:'libraryDependencies += "io.github.kirill5k" %% "mongo4cats-core" % "<version>"\nlibraryDependencies += "io.github.kirill5k" %% "mongo4cats-embedded" % "<version>" % Test'}),"\n",(0,t.jsxs)(n.p,{children:["Alternatively, for ",(0,t.jsx)(n.code,{children:"ZIO 2"}),", add this:"]}),"\n",(0,t.jsx)(s.Z,{language:"scala",style:c.Z,children:'libraryDependencies += "io.github.kirill5k" %% "mongo4cats-zio" % "<version>"\nlibraryDependencies += "io.github.kirill5k" %% "mongo4cats-zio-embedded" % "<version>" % Test'}),"\n",(0,t.jsxs)(n.p,{children:["Optional support for ",(0,t.jsx)(n.code,{children:"circe"})," or ",(0,t.jsx)(n.code,{children:"zio-json"})," can be enabled with:"]}),"\n",(0,t.jsx)(s.Z,{language:"scala",style:c.Z,children:'// circe\nlibraryDependencies += "io.github.kirill5k" %% "mongo4cats-circe" % "<version>"\n// zio-json\nlibraryDependencies += "io.github.kirill5k" %% "mongo4cats-zio-json" % "<version>"'}),"\n",(0,t.jsx)(n.h3,{id:"quick-start-with-cats-effect",children:"Quick start with Cats Effect"}),"\n",(0,t.jsx)(s.Z,{language:"scala",style:c.Z,children:'import cats.effect.{IO, IOApp}\nimport mongo4cats.client.MongoClient\nimport mongo4cats.operations.{Filter, Projection}\nimport mongo4cats.bson.Document\nimport mongo4cats.bson.syntax._\n\nobject Quickstart extends IOApp.Simple {\n\n  override val run: IO[Unit] =\n    MongoClient.fromConnectionString[IO]("mongodb://localhost:27017").use { client =>\n      for {\n        db   <- client.getDatabase("my-db")\n        coll <- db.getCollection("docs")\n        _    <- coll.insertMany((0 to 100).map(i => Document("name" := s"doc-$i", "index" := i)))\n        docs <- coll.find\n          .filter(Filter.gte("index", 10) && Filter.regex("name", "doc-[1-9]0"))\n          .projection(Projection.excludeId)\n          .sortByDesc("name")\n          .limit(5)\n          .all\n        _ <- IO.println(docs.mkString("[", ", ", "]"))\n      } yield ()\n    }\n}'}),"\n",(0,t.jsx)(n.h3,{id:"quick-start-with-zio",children:"Quick start with ZIO"}),"\n",(0,t.jsx)(s.Z,{language:"scala",style:c.Z,children:'import mongo4cats.bson.Document\nimport mongo4cats.bson.syntax._\nimport mongo4cats.operations.{Filter, Projection}\nimport mongo4cats.zio.{ZMongoClient, ZMongoCollection, ZMongoDatabase}\nimport zio._\n\nobject Zio extends ZIOAppDefault {\n\n  val client     = ZLayer.scoped[Any](ZMongoClient.fromConnectionString("mongodb://localhost:27017"))\n  val database   = ZLayer.fromZIO(ZIO.serviceWithZIO[ZMongoClient](_.getDatabase("my-db")))\n  val collection = ZLayer.fromZIO(ZIO.serviceWithZIO[ZMongoDatabase](_.getCollection("docs")))\n\n  val program = for {\n    coll <- ZIO.service[ZMongoCollection[Document]]\n    _    <- coll.insertMany((0 to 100).map(i => Document("name" := s"doc-$i", "index" := i)))\n    docs <- coll.find\n      .filter(Filter.gte("index", 10) && Filter.regex("name", "doc-[1-9]0"))\n      .projection(Projection.excludeId)\n      .sortByDesc("name")\n      .limit(5)\n      .all\n    _ <- Console.printLine(docs.mkString("[", ", ", "]"))\n  } yield ()\n\n  override def run = program.provide(client, database, collection)\n}'}),"\n",(0,t.jsx)(n.p,{children:"If you find this library useful, consider giving it a \u2b50!"})]})}function m(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);