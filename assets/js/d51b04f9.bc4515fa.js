"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1083],{4499:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>r,contentTitle:()=>s,default:()=>g,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var o=t(5893),i=t(1151);const a={id:"connection",title:"Making a connection",tags:["MongoClient","MongoDatabase"]},s=void 0,c={id:"gettingstarted/connection",title:"Making a connection",description:"In order to create a connection to a MongoDB database, an instance of MongoClient[F] class needs to be instantiated.",source:"@site/docs/gettingstarted/connection.md",sourceDirName:"gettingstarted",slug:"/gettingstarted/connection",permalink:"/mongo4cats/docs/gettingstarted/connection",draft:!1,unlisted:!1,tags:[{label:"MongoClient",permalink:"/mongo4cats/docs/tags/mongo-client"},{label:"MongoDatabase",permalink:"/mongo4cats/docs/tags/mongo-database"}],version:"current",frontMatter:{id:"connection",title:"Making a connection",tags:["MongoClient","MongoDatabase"]},sidebar:"docsSidebar",previous:{title:"Getting started",permalink:"/mongo4cats/docs/"},next:{title:"Getting a collection",permalink:"/mongo4cats/docs/gettingstarted/collection"}},r={},l=[];function d(n){const e={code:"code",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:["In order to create a connection to a MongoDB database, an instance of ",(0,o.jsx)(e.code,{children:"MongoClient[F]"})," class needs to be instantiated.\nThe ",(0,o.jsx)(e.code,{children:"MongoClient[F]"})," instance represents a pool of connections for a given MongoDB server deployment and typically\nonly one instance of this class is required per application (even with multiple operations executed concurrently)."]}),"\n",(0,o.jsx)(e.p,{children:"There are multiple ways of creating a client:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-scala",children:'import cats.effect.IO\nimport mongo4cats.models.client._\nimport mongo4cats.client._\n\n// From a connection string\nval clientFromConnString = MongoClient.fromConnectionString[IO]("mongodb://localhost:27017")\n\n// By providing ServerAddress\nval clientFromServerAddress = MongoClient.fromServerAddress[IO](ServerAddress("localhost", 27017))\n\n// By providing Connection\nval connection = MongoConnection("localhost", 27017, Some(MongoCredential("username", "password")), MongoConnectionType.Classic)\nval clientFromConnection = MongoClient.fromConnection[IO](connection)\n\n// By providing custom MongoClientSettings object\nval settings = MongoClientSettings.builder().applyConnectionString(ConnectionString("mongodb://localhost:27017")).build()\nval clientFromSettings = MongoClient.create[IO](settings)\n'})}),"\n",(0,o.jsxs)(e.p,{children:["Creating a client through any of the available constructor methods in its companion object returns a ",(0,o.jsx)(e.code,{children:"Resource[F, MongoClient[F]]"}),", meaning that the connection to the MongoDB server will be disposed after its use."]}),"\n",(0,o.jsxs)(e.p,{children:["Once the client is created, it can further be used for interacting with ",(0,o.jsx)(e.code,{children:"MongoDatabase[F]"})," instances that provide methods for dealing with your actual MongoDB database:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-scala",children:'import mongo4cats.database.MongoDatabase\n\nMongoClient.fromConnectionString[IO]("mongodb://localhost:27017").use { client =>\n  val database: IO[MongoDatabase[IO]] = client.getDatabase("mydb")\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"If the database does not exist, MongoDB will create it during the very first query to it."})]})}function g(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},1151:(n,e,t)=>{t.d(e,{Z:()=>c,a:()=>s});var o=t(7294);const i={},a=o.createContext(i);function s(n){const e=o.useContext(a);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),o.createElement(a.Provider,{value:e},n.children)}}}]);